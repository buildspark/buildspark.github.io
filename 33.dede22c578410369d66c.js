(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"4c6p":function(l,e,n){"use strict";n.r(e);var t=n("CcnG"),a=function(){return function(){}}(),o=n("yWMr"),i=n("t68o"),r=n("zbXB"),u=n("NcP4"),b=n("xYTU"),c=n("gMwT"),s=n("pMnS"),d=n("Mr+X"),h=n("SMsm"),p=n("9zIK"),m=n("gQxg"),A=n("oBZk"),g=n("ZZ/e"),y=n("Rlre"),M=n("La40"),f=n("gIcY"),R=n("Ip0R"),C=n("mrSG"),k=n("Do2H"),q=n("oztG"),w=n("/Ru3"),D=n("wd/R"),v=n("VNr4"),T=n("OFIl"),Y=n("2mCB");n("AtBH");var O=function(l){function e(e,n,t,a,o,i,r){var u=l.call(this,e)||this;return u.loadingCtrl=e,u.service=n,u.storage=t,u.loadingController=a,u.modalController=o,u.router=i,u.route=r,u.strChartTitle="",u.arrDailyCharts=[],u.arrMonthlyCharts=[],u.arrYearlyCharts=[],u.customActionSheetOptions={header:"Machines",subHeader:"Select the machine(s) you want to view"},u.arrDept=[],u.selectedTab=0,u.accessToken="",u.deptReqModel=new w.a,u.wipReqModel=new w.g(1),u.monthlyReqModel=new w.f,u.yearlyReqModel=new w.f,u.emailReqModel=new w.c(1),u.currentDate=D().format("YYYY-MM-DD"),u.yesterdayDate=D().add(-1,"days").format("YYYY-MM-DD"),u.minDate=q.a.c_MIN_DATE_2020,u.checkBoxList=[],u.strChartTitle=u.router.url.replace(/[^a-zA-Z0-9 ]/g,""),u.storage.get("accesstoken").then(function(l){u.accessToken=l,u.deptReqModel.accesstoken=l,u.emailReqModel.accesstoken=l}),u.route.snapshot.data.special&&(u.wipReqModel=u.route.snapshot.data.special,console.log("GET DATA FROM PROCESS: ",JSON.stringify([u.wipReqModel])),u.emailReqModel.date=u.wipReqModel.date,u.emailReqModel.dept=u.wipReqModel.dept,u.emailReqModel.process=u.wipReqModel.process,u.callWSToReloadPagesData()),u}return C.d(e,l),e.prototype.ngOnInit=function(){},e.prototype.ionViewDidEnter=function(){},e.prototype.callWSToReloadPagesData=function(){var l=this.filter(q.a.k_HOURLY_WIP_OUTPUT,this.wipReqModel);return Object(v.a)([l])},e.prototype.onWipHourlySelected=function(l){},e.prototype.onFromMonthlyUsageSelected=function(l){Date.parse(this.monthlyReqModel.datefrom)>Date.parse(this.monthlyReqModel.dateto)&&(this.monthlyReqModel.dateto=this.monthlyReqModel.datefrom)},e.prototype.onToMonthlyUsageSelected=function(l){var e=Date.parse(this.monthlyReqModel.datefrom);Date.parse(this.monthlyReqModel.dateto)<e&&(this.monthlyReqModel.datefrom=this.monthlyReqModel.dateto)},e.prototype.onFromYearlyUsageSelected=function(l){Date.parse(this.yearlyReqModel.datefrom)>Date.parse(this.yearlyReqModel.dateto)&&(this.yearlyReqModel.dateto=this.yearlyReqModel.datefrom)},e.prototype.onToYearlyUsageSelected=function(l){var e=Date.parse(this.yearlyReqModel.datefrom);Date.parse(this.yearlyReqModel.dateto)<e&&(this.yearlyReqModel.datefrom=this.yearlyReqModel.dateto)},e.prototype.filter=function(l,e,n){var t=this;this.service.callWebService(l,e,function(e){switch(l){case q.a.k_HOURLY_WIP_OUTPUT:t.arrDailyCharts=JSON.parse(e.data);break;case q.a.k_MONTHLY_IMP:t.arrMonthlyCharts=JSON.parse(e.data);break;case q.a.k_YEARLY_IMP:t.arrYearlyCharts=JSON.parse(e.data)}})},e.prototype.selectMachine=function(){this.presentModal()},e.prototype.optionsFn=function(){this.monthlyReqModel.device=this.wipReqModel.dept.join(","),this.yearlyReqModel.device=this.wipReqModel.dept.join(","),this.callWSToReloadPagesData()},e.prototype.onTabChanged=function(l){console.log("tabChangeEvent => ",l),console.log("index => ",l.index)},e.prototype.onViewWIPDateClicked=function(){this.wipReqModel.date=this.standardDateTime(this.wipReqModel.date),this.filter(q.a.k_HOURLY_WIP_OUTPUT,this.wipReqModel)},e.prototype.onViewMonthlyDateClicked=function(){this.monthlyReqModel.datefrom=this.standardDateTime(this.monthlyReqModel.datefrom),this.monthlyReqModel.dateto=this.standardDateTime(this.monthlyReqModel.dateto),this.filter(q.a.k_MONTHLY_IMP,this.monthlyReqModel)},e.prototype.onViewYearlyDateClicked=function(){this.yearlyReqModel.datefrom=this.standardDateTime(this.yearlyReqModel.datefrom),this.yearlyReqModel.dateto=this.standardDateTime(this.yearlyReqModel.dateto),this.filter(q.a.k_YEARLY_IMP,this.yearlyReqModel)},e.prototype.random_rgb=function(){var l=Math.round,e=Math.random;return"rgb("+l(255*e())+","+l(255*e())+","+l(255*e())+","+e().toFixed(1)+")"},e.prototype.standardDateTime=function(l){return D(l).format("YYYY-MM-DD")},e.prototype.presentModal=function(){return C.b(this,void 0,void 0,function(){var l,e=this;return C.e(this,function(n){switch(n.label){case 0:return[4,this.modalController.create({component:T.a,componentProps:{checkBoxList:this.checkBoxList,paramTitle:"Select Department"}})];case 1:return(l=n.sent()).onDidDismiss().then(function(l){null!==l&&void 0!==l.data&&(e.wipReqModel.dept=[],l.data.forEach(function(l){l.isChecked&&e.wipReqModel.dept.push(l.machine.value)}),console.log("--- Modal SELECTED Data: ",e.wipReqModel.dept),e.optionsFn())}),[4,l.present()];case 2:return[2,n.sent()]}})})},e.prototype.onClicked=function(){console.log("BACK")},e.prototype.exportEmail=function(){var l=this;this.service.presentAlert("Export Email","Please insert the email you want to export to.",[{name:"email",type:"email",placeholder:"Recipient email here"}],function(e){console.log("hi, ai am here: ",e.data.values.email),l.emailReqModel.email=e.data.values.email,l.emailReqModel.date=l.wipReqModel.date,l.service.callWebService(q.a.k_POST_EMAIL,l.emailReqModel,function(e){console.log("ressssss email done: ",e),l.service.presentAlert("Export Email","Done exporting csv file to "+l.emailReqModel.email)})})},e}(Y.a),B=n("iw74"),P=n("ZYCi"),_=t.qb({encapsulation:0,styles:[[".welcome-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}p.text-center[_ngcontent-%COMP%]{text-align:center}.example-tab-icon[_ngcontent-%COMP%]{margin-right:8px}.vertical-align-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:-webkit-box!important;display:flex!important;align-content:center!important;-webkit-box-align:center!important;align-items:center!important}"]],data:{}});function x(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,2,"mat-icon",[["class","example-tab-icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,d.b,d.a)),t.rb(1,9158656,null,0,h.b,[t.k,h.d,[8,null],[2,h.a]],null,null),(l()(),t.Jb(-1,0,["query_builder"])),(l()(),t.Jb(-1,null,[" Hourly "]))],function(l,e){l(e,1,0)},function(l,e){l(e,0,0,t.Cb(e,1).inline,"primary"!==t.Cb(e,1).color&&"accent"!==t.Cb(e,1).color&&"warn"!==t.Cb(e,1).color)})}function S(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,1,"chart-canvas",[],null,null,null,p.b,p.a)),t.rb(1,114688,null,0,m.a,[],{data:[0,"data"],title:[1,"title"]},null)],function(l,e){l(e,1,0,e.context.$implicit,e.component.strChartTitle)},null)}function E(l){return t.Lb(0,[t.Hb(402653184,1,{tabGroup:0}),t.Hb(402653184,2,{selectPop:0}),(l()(),t.sb(2,0,null,null,17,"ion-header",[],null,null,null,A.X,A.q)),t.rb(3,49152,null,0,g.C,[t.h,t.k,t.B],null,null),(l()(),t.sb(4,0,null,0,15,"ion-toolbar",[["color","primary"]],null,null,null,A.nb,A.G)),t.rb(5,49152,null,0,g.Db,[t.h,t.k,t.B],{color:[0,"color"]},null),(l()(),t.sb(6,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,A.K,A.d)),t.rb(7,49152,null,0,g.m,[t.h,t.k,t.B],null,null),(l()(),t.sb(8,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Cb(l,10).onClick(n)&&a),a},A.I,A.b)),t.rb(9,49152,null,0,g.h,[t.h,t.k,t.B],null,null),t.rb(10,16384,null,0,g.i,[[2,g.jb],g.Kb],null,null),(l()(),t.sb(11,0,null,0,2,"ion-title",[],null,null,null,A.lb,A.E)),t.rb(12,49152,null,0,g.Bb,[t.h,t.k,t.B],null,null),(l()(),t.Jb(-1,0,[" WIP "])),(l()(),t.sb(14,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,A.K,A.d)),t.rb(15,49152,null,0,g.m,[t.h,t.k,t.B],null,null),(l()(),t.sb(16,0,null,0,3,"ion-fab-button",[["size","small"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.exportEmail()&&t),t},A.U,A.n)),t.rb(17,49152,null,0,g.y,[t.h,t.k,t.B],{size:[0,"size"]},null),(l()(),t.sb(18,0,null,0,1,"ion-icon",[["name","share"]],null,null,null,A.Y,A.r)),t.rb(19,49152,null,0,g.D,[t.h,t.k,t.B],{name:[0,"name"]},null),(l()(),t.sb(20,0,null,null,34,"ion-content",[],null,null,null,A.S,A.l)),t.rb(21,49152,null,0,g.v,[t.h,t.k,t.B],null,null),(l()(),t.sb(22,0,null,0,32,"mat-tab-group",[["class","mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],[[null,"selectedTabChange"]],function(l,e,n){var t=!0;return"selectedTabChange"===e&&(t=!1!==l.component.onTabChanged(n)&&t),t},y.c,y.b)),t.rb(23,3325952,[[1,4],["tabGroup",4]],1,M.f,[t.k,t.h,[2,M.a]],{selectedIndex:[0,"selectedIndex"]},{selectedTabChange:"selectedTabChange"}),t.Hb(603979776,3,{_tabs:1}),(l()(),t.sb(25,16777216,null,null,29,"mat-tab",[],null,null,null,y.d,y.a)),t.rb(26,770048,[[3,4]],2,M.c,[t.R],null,null),t.Hb(335544320,4,{templateLabel:0}),t.Hb(335544320,5,{_explicitContent:0}),(l()(),t.jb(16777216,null,0,1,null,x)),t.rb(30,16384,[[4,4]],0,M.h,[t.O,t.R],null,null),(l()(),t.sb(31,0,null,0,21,"ion-grid",[],null,null,null,A.W,A.p)),t.rb(32,49152,null,0,g.B,[t.h,t.k,t.B],null,null),(l()(),t.sb(33,0,null,0,19,"ion-row",[],null,null,null,A.hb,A.A)),t.rb(34,49152,null,0,g.kb,[t.h,t.k,t.B],null,null),(l()(),t.sb(35,0,null,0,12,"ion-col",[],null,null,null,A.R,A.k)),t.rb(36,49152,null,0,g.u,[t.h,t.k,t.B],null,null),(l()(),t.sb(37,0,null,0,10,"div",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" On this day "])),(l()(),t.sb(39,0,null,null,8,"ion-item",[],null,null,null,A.ab,A.t)),t.rb(40,49152,null,0,g.I,[t.h,t.k,t.B],null,null),(l()(),t.sb(41,0,null,0,6,"ion-datetime",[["displayFormat","DD MMM YYYY"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(l,e,n){var a=!0,o=l.component;return"ionBlur"===e&&(a=!1!==t.Cb(l,42)._handleBlurEvent(n.target)&&a),"ionChange"===e&&(a=!1!==t.Cb(l,42)._handleChangeEvent(n.target)&&a),"ngModelChange"===e&&(a=!1!==(o.wipReqModel.date=n)&&a),"ionChange"===e&&(a=!1!==o.onWipHourlySelected(n)&&a),a},A.T,A.m)),t.rb(42,16384,null,0,g.Qb,[t.k],null,null),t.Gb(1024,null,f.e,function(l){return[l]},[g.Qb]),t.rb(44,671744,null,0,f.j,[[8,null],[8,null],[8,null],[6,f.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Gb(2048,null,f.f,null,[f.j]),t.rb(46,16384,null,0,f.g,[[4,f.f]],null,null),t.rb(47,49152,null,0,g.w,[t.h,t.k,t.B],{displayFormat:[0,"displayFormat"],max:[1,"max"],min:[2,"min"]},null),(l()(),t.sb(48,0,null,0,4,"ion-col",[["class","center-ver"],["size","auto"]],null,null,null,A.R,A.k)),t.rb(49,49152,null,0,g.u,[t.h,t.k,t.B],{size:[0,"size"]},null),(l()(),t.sb(50,0,null,0,2,"ion-button",[],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onViewWIPDateClicked()&&t),t},A.J,A.c)),t.rb(51,49152,null,0,g.l,[t.h,t.k,t.B],null,null),(l()(),t.Jb(-1,0,["View date"])),(l()(),t.jb(16777216,null,0,1,null,S)),t.rb(54,278528,null,0,R.j,[t.R,t.O,t.u],{ngForOf:[0,"ngForOf"]},null)],function(l,e){var n=e.component;l(e,5,0,"primary"),l(e,17,0,"small"),l(e,19,0,"share"),l(e,23,0,n.selectedTab),l(e,26,0),l(e,44,0,n.wipReqModel.date),l(e,47,0,"DD MMM YYYY",t.ub(1,"",n.currentDate,""),t.ub(1,"",n.minDate,"")),l(e,49,0,"auto"),l(e,54,0,n.arrDailyCharts)},function(l,e){l(e,22,0,t.Cb(e,23).dynamicHeight,"below"===t.Cb(e,23).headerPosition),l(e,41,0,t.Cb(e,46).ngClassUntouched,t.Cb(e,46).ngClassTouched,t.Cb(e,46).ngClassPristine,t.Cb(e,46).ngClassDirty,t.Cb(e,46).ngClassValid,t.Cb(e,46).ngClassInvalid,t.Cb(e,46).ngClassPending)})}function I(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,1,"app-wip",[],null,null,null,E,_)),t.rb(1,114688,null,0,O,[g.Hb,k.a,B.b,g.Hb,g.Jb,P.n,P.a],null,null)],function(l,e){l(e,1,0)},null)}var L=t.ob("app-wip",O,I,{},{},[]),H=n("M2Lx"),W=n("t/Na"),j=n("lLAP"),F=n("dWZg"),U=n("OBdK"),J=n("9Bt9"),N=n("qAlS"),z=n("eDkP"),K=n("Fzqc"),G=n("4tE/"),V=n("Wf4p"),Z=n("wmQ5"),X=n("o3x0"),Q=n("jQLj"),$=n("mVsa"),ll=n("uGex"),el=n("v9Dh"),nl=n("ZYjt"),tl=n("4epT"),al=n("OkvK"),ol=n("Lwpp"),il=n("y4qS"),rl=n("4c35"),ul=n("6Wmm"),bl=n("BgWK"),cl=n("UodH"),sl=n("u7R8"),dl=n("FVSy"),hl=n("de3e"),pl=n("/dO6"),ml=n("LC5p"),Al=n("YhbO"),gl=n("jlZm"),yl=n("r43C"),Ml=n("/VYK"),fl=n("seP3"),Rl=n("b716"),Cl=n("0/Q6"),kl=n("Z+uX"),ql=n("Blfk"),wl=n("9It4"),Dl=n("Nsh5"),vl=n("w+lc"),Tl=n("kWGw"),Yl=n("vARd"),Ol=n("BHnd"),Bl=n("8mMr"),Pl=n("J12g"),_l=n("PCNd"),xl=n("YSh2");n.d(e,"WipPageModuleNgFactory",function(){return Sl});var Sl=t.pb(a,[],function(l){return t.zb([t.Ab(512,t.j,t.eb,[[8,[o.a,i.a,r.b,r.a,u.a,b.a,b.b,c.a,s.a,L]],[3,t.j],t.z]),t.Ab(4608,R.m,R.l,[t.w,[2,R.w]]),t.Ab(4608,f.o,f.o,[]),t.Ab(4608,g.b,g.b,[t.B,t.g]),t.Ab(4608,g.Jb,g.Jb,[g.b,t.j,t.s]),t.Ab(4608,g.Ob,g.Ob,[g.b,t.j,t.s]),t.Ab(4608,H.c,H.c,[]),t.Ab(4608,W.h,W.n,[R.d,t.D,W.l]),t.Ab(4608,W.o,W.o,[W.h,W.m]),t.Ab(5120,W.a,function(l){return[l]},[W.o]),t.Ab(4608,W.k,W.k,[]),t.Ab(6144,W.i,null,[W.k]),t.Ab(4608,W.g,W.g,[W.i]),t.Ab(6144,W.b,null,[W.g]),t.Ab(4608,W.f,W.j,[W.b,t.s]),t.Ab(4608,W.c,W.c,[W.f]),t.Ab(135680,j.g,j.g,[t.B,F.a]),t.Ab(4608,U.e,U.e,[t.O]),t.Ab(4608,J.a,J.a,[R.d,t.B,N.e,J.c]),t.Ab(4608,z.a,z.a,[z.g,z.c,t.j,z.f,z.d,t.s,t.B,R.d,K.b,[2,R.g]]),t.Ab(5120,z.h,z.i,[z.a]),t.Ab(5120,G.a,G.b,[z.a]),t.Ab(4608,V.d,V.d,[]),t.Ab(5120,Z.b,Z.a,[[3,Z.b]]),t.Ab(5120,X.b,X.c,[z.a]),t.Ab(135680,X.d,X.d,[z.a,t.s,[2,R.g],[2,X.a],X.b,[3,X.d],z.c]),t.Ab(4608,Q.h,Q.h,[]),t.Ab(5120,Q.a,Q.b,[z.a]),t.Ab(5120,$.a,$.c,[z.a]),t.Ab(4608,V.c,V.t,[[2,V.h],F.a]),t.Ab(5120,ll.a,ll.b,[z.a]),t.Ab(5120,el.a,el.b,[z.a]),t.Ab(4608,nl.f,V.e,[[2,V.i],[2,V.l]]),t.Ab(5120,tl.b,tl.a,[[3,tl.b]]),t.Ab(5120,al.b,al.a,[[3,al.b]]),t.Ab(1073742336,R.c,R.c,[]),t.Ab(1073742336,f.m,f.m,[]),t.Ab(1073742336,f.c,f.c,[]),t.Ab(1073742336,g.Fb,g.Fb,[]),t.Ab(1073742336,F.b,F.b,[]),t.Ab(1073742336,H.d,H.d,[]),t.Ab(1073742336,j.a,j.a,[]),t.Ab(1073742336,W.e,W.e,[]),t.Ab(1073742336,W.d,W.d,[]),t.Ab(1073742336,K.a,K.a,[]),t.Ab(1073742336,ol.e,ol.e,[]),t.Ab(1073742336,il.o,il.o,[]),t.Ab(1073742336,U.c,U.c,[]),t.Ab(1073742336,J.b,J.b,[]),t.Ab(1073742336,V.l,V.l,[[2,V.f],[2,nl.g]]),t.Ab(1073742336,V.s,V.s,[]),t.Ab(1073742336,V.q,V.q,[]),t.Ab(1073742336,V.o,V.o,[]),t.Ab(1073742336,rl.g,rl.g,[]),t.Ab(1073742336,N.c,N.c,[]),t.Ab(1073742336,z.e,z.e,[]),t.Ab(1073742336,G.c,G.c,[]),t.Ab(1073742336,ul.a,ul.a,[]),t.Ab(1073742336,bl.c,bl.c,[]),t.Ab(1073742336,cl.c,cl.c,[]),t.Ab(1073742336,sl.a,sl.a,[]),t.Ab(1073742336,dl.a,dl.a,[]),t.Ab(1073742336,hl.a,hl.a,[]),t.Ab(1073742336,pl.b,pl.b,[]),t.Ab(1073742336,h.c,h.c,[]),t.Ab(1073742336,Z.c,Z.c,[]),t.Ab(1073742336,X.g,X.g,[]),t.Ab(1073742336,Q.i,Q.i,[]),t.Ab(1073742336,ml.a,ml.a,[]),t.Ab(1073742336,Al.c,Al.c,[]),t.Ab(1073742336,gl.a,gl.a,[]),t.Ab(1073742336,V.m,V.m,[]),t.Ab(1073742336,yl.a,yl.a,[]),t.Ab(1073742336,Ml.b,Ml.b,[]),t.Ab(1073742336,fl.a,fl.a,[]),t.Ab(1073742336,Rl.a,Rl.a,[]),t.Ab(1073742336,Cl.a,Cl.a,[]),t.Ab(1073742336,$.b,$.b,[]),t.Ab(1073742336,V.u,V.u,[]),t.Ab(1073742336,V.n,V.n,[]),t.Ab(1073742336,ll.c,ll.c,[]),t.Ab(1073742336,el.c,el.c,[]),t.Ab(1073742336,tl.c,tl.c,[]),t.Ab(1073742336,kl.a,kl.a,[]),t.Ab(1073742336,ql.a,ql.a,[]),t.Ab(1073742336,wl.a,wl.a,[]),t.Ab(1073742336,Dl.a,Dl.a,[]),t.Ab(1073742336,vl.a,vl.a,[]),t.Ab(1073742336,Tl.a,Tl.a,[]),t.Ab(1073742336,Yl.d,Yl.d,[]),t.Ab(1073742336,al.c,al.c,[]),t.Ab(1073742336,Ol.a,Ol.a,[]),t.Ab(1073742336,M.k,M.k,[]),t.Ab(1073742336,Bl.a,Bl.a,[]),t.Ab(1073742336,Pl.a,Pl.a,[]),t.Ab(1073742336,_l.a,_l.a,[]),t.Ab(1073742336,P.p,P.p,[[2,P.v],[2,P.n]]),t.Ab(1073742336,a,a,[]),t.Ab(256,W.l,"XSRF-TOKEN",[]),t.Ab(256,W.m,"X-XSRF-TOKEN",[]),t.Ab(256,pl.a,{separatorKeyCodes:[xl.f]},[]),t.Ab(256,V.g,V.j,[]),t.Ab(1024,P.l,function(){return[[{path:"",component:O}]]},[])])})}}]);